openapi: 3.1.0
info:
  title: DoorDash Drive API
  version: 2.0.27
  description: |
    The DoorDash Drive API enables partners to create and manage deliveries, quotes, businesses, and stores. For more information, visit the [DoorDash Developer Portal](https://developer.doordash.com/en-US/api/drive/).
servers:
  - url: https://openapi.doordash.com/drive
    description: Production server
security:
  - BearerAuth: []
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: |
        JWT Token authentication. See the [JWT Token guide](https://developer.doordash.com/en-US/docs/drive/api/token) for more information.
  schemas:
    CreateQuoteRequest:
      type: object
      required:
        - external_delivery_id
        - dropoff_address
        - dropoff_phone_number
      properties:
        external_delivery_id:
          type: string
          description: Unique ID generated by the caller for the delivery.
        locale:
          type: string
          description: The language DoorDash should use when sending updates about this delivery.
        order_fulfillment_method:
          type: string
          enum: [standard, catering, shop_stage, shop_deliver, parcel, large_order, shop_handoff]
        origin_facility_id:
          type: string
        pickup_address:
          type: string
        pickup_business_name:
          type: string
        pickup_phone_number:
          type: string
        pickup_instructions:
          type: string
        pickup_reference_tag:
          type: string
        pickup_external_business_id:
          type: string
        pickup_external_store_id:
          type: string
        pickup_verification_metadata:
          type: object
        dropoff_address:
          type: string
        dropoff_business_name:
          type: string
        dropoff_location:
          type: object
        dropoff_phone_number:
          type: string
        dropoff_instructions:
          type: string
    CreateQuoteResponse:
      type: object
      properties:
        quote_id:
          type: string
        fee:
          type: number
        currency:
          type: string
        is_serviceable:
          type: boolean
        estimated_delivery_time:
          type: string
          format: date-time
        errors:
          type: array
          items:
            type: string
    Error:
      type: object
      properties:
        message:
          type: string
        code:
          type: string
    AcceptQuoteRequest:
      type: object
      required:
        - external_delivery_id
        - quote_id
      properties:
        external_delivery_id:
          type: string
          description: Unique ID generated by the caller for the delivery.
        quote_id:
          type: string
          description: The ID of the quote to accept.
    AcceptQuoteResponse:
      type: object
      properties:
        delivery_id:
          type: string
        status:
          type: string
          description: Status of the accepted quote.
    CreateDeliveryRequest:
      type: object
      required:
        - external_delivery_id
        - dropoff_address
        - dropoff_phone_number
      properties:
        external_delivery_id:
          type: string
        locale:
          type: string
        order_fulfillment_method:
          type: string
          enum: [standard, catering, shop_stage, shop_deliver, parcel, large_order, shop_handoff]
        origin_facility_id:
          type: string
        pickup_address:
          type: string
        pickup_business_name:
          type: string
        pickup_phone_number:
          type: string
        pickup_instructions:
          type: string
        pickup_reference_tag:
          type: string
        pickup_external_business_id:
          type: string
        pickup_external_store_id:
          type: string
        pickup_verification_metadata:
          type: object
        dropoff_address:
          type: string
        dropoff_business_name:
          type: string
        dropoff_location:
          type: object
        dropoff_phone_number:
          type: string
        dropoff_instructions:
          type: string
    CreateDeliveryResponse:
      type: object
      properties:
        delivery_id:
          type: string
        status:
          type: string
          description: Status of the created delivery.
paths:
  /v1/quotes:
    post:
      tags:
        - Delivery
      summary: Create Quote
      description: Create a quote to confirm that a delivery is serviceable by DoorDash and what it would cost.
      operationId: createQuote
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateQuoteRequest'
            examples:
              basic:
                value:
                  external_delivery_id: "abc123"
                  dropoff_address: "123 Main St, San Francisco, CA"
                  dropoff_phone_number: "+14155551234"
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateQuoteResponse'
        '400':
          description: Request validation failed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Operation not authorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal service failure
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /v1/quotes/accept:
    post:
      tags:
        - Delivery
      summary: Accept Quote
      description: Accept a previously created quote to proceed with the delivery.
      operationId: acceptQuote
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AcceptQuoteRequest'
            examples:
              basic:
                value:
                  external_delivery_id: "abc123"
                  quote_id: "quote_456"
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AcceptQuoteResponse'
              examples:
                success:
                  value:
                    delivery_id: "delivery_789"
                    status: "accepted"
        '400':
          description: Request validation failed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Operation not authorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal service failure
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /v1/deliveries:
    post:
      tags:
        - Delivery
      summary: Create Delivery
      description: Create a new delivery with all required and optional details.
      operationId: createDelivery
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateDeliveryRequest'
            examples:
              basic:
                value:
                  external_delivery_id: "abc123"
                  dropoff_address: "123 Main St, San Francisco, CA"
                  dropoff_phone_number: "+14155551234"
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateDeliveryResponse'
              examples:
                success:
                  value:
                    delivery_id: "delivery_789"
                    status: "created"
        '400':
          description: Request validation failed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '403':
          description: Operation not authorized
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
        '500':
          description: Internal service failure
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
tags:
  - name: Delivery
    description: Endpoints for managing deliveries and quotes
  - name: Audit
    description: Endpoints for audit signals
  - name: Business & Store
    description: Endpoints for managing businesses and stores
